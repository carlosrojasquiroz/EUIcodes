function [e,L]=labor(p,m)
%-------------------------------------------------------------------------------------------
% Effort
%-------------------------------------------------------------------------------------------
    e=zeros(p.J,p.nzz);
    P=zeros(p.J,1);
    for ii=1:p.JR-1
        P(ii,1)=(p.lambda0+p.lambda1*ii+p.lambda2*ii^2);
        e(ii,:)=m.z_grid.*P(ii);
    end
%-------------------------------------------------------------------------------------------
% Aggregate labor
%-------------------------------------------------------------------------------------------
    %L = m.Psi'*P*(m.z_grid*m.muJ');
    j_l=zeros(p.J,1);
    for ii=1:p.J
        j_l(ii,1)=m.Psi(ii)*(e(ii,:)*m.muJ');
    end
    L=sum(j_l);
end